<div>
    <mat-card class="card-api">
        <span class="identification-title">{{'personalSpace.projectApi.identificationKey' | translate}}</span>
        <p class="explanation-text">{{'personalSpace.projectApi.explainationText' | translate}}
            <a [href]="rudiDocLink"> {{'personalSpace.projectApi.explainationTextLink' | translate}} </a></p>
        <app-loader [active]="isKeysLoading" [allPage]="false" [noText]="true" [isTransparent]="false" [isLight]="true"></app-loader>
        <ng-container *ngIf="projectKeysTotal">
        <div class="mt-3"><b>{{projectKeysTotal}} {{'personalSpace.project.tabs.api.projectKeys.results'|translate}}</b></div>
        <table
            mat-table
            class="mat-table-project-keys"
            aria-describedby="table-description"
            [dataSource]="dataSource"
        >

            <!-- Creation Date Column -->
            <ng-container matColumnDef="creationDate">
                <th mat-header-cell *matHeaderCellDef class="table-header first-row">
                    {{'personalSpace.project.tabs.api.projectKeys.table.columnCreationDate'|translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.creationDate}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef class="table-header second-row">
                    {{'personalSpace.project.tabs.api.projectKeys.table.columnName'|translate}}
                </th>
                <td mat-cell *matCellDef="let element" class="nom-key"> {{element.name}} </td>
            </ng-container>

            <!-- Status Column -->
            <ng-container matColumnDef="expirationDate">
                <th mat-header-cell *matHeaderCellDef class="table-header third-row">
                    {{'personalSpace.project.tabs.api.projectKeys.table.columnExpirationDate'|translate}}
                </th>
                <td mat-cell *matCellDef="let element"> {{element.expirationDate}} </td>
            </ng-container>

            <!-- Status Column -->
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef class="table-header fourth-row">

                </th>

                <td mat-cell *matCellDef="let element"> <mat-icon class="delete-icon">delete</mat-icon> </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        </ng-container>
<!--        Table -->

        <ng-container *ngIf="!projectKeysTotal">
            <p class="my-3 mx-auto">{{'personalSpace.projectApi.noKeysFound' | translate}}</p>
        </ng-container>
        <div class="d-flex align-content-end w-100 flex-row-reverse mt-4">
            <button mat-raised-button class="action-button generate-button"
                    (click)="generateKey()">{{'personalSpace.projectApi.generateKey' | translate}}
            </button>
        </div>
    </mat-card>
</div>
